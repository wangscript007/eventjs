/*eventjs v0.0.1, by wqking, https://github.com/wqking/eventjs*/
if(void 0===eventjs)var eventjs={};"function"==typeof define&&define.amd?define(function(){return eventjs}):"object"==typeof module&&module.exports&&(module.exports=eventjs),function(t){"use strict";function s(t,n){this._j=null,this._r=null,this._g=t,this._n=n}function n(t){this._u=null,this._t=null,this._m=0,t=t||{},this._p=t.hasOwnProperty("canContinueInvoking")?t.canContinueInvoking:null,this._i=!!t.hasOwnProperty("argumentsAsArray")&&!!t.argumentsAsArray,this._i?(this.dispatch=this._v,this.applyDispatch=this._q):(this.dispatch=this._h,this.applyDispatch=this._l)}var e=n.prototype;e.append=function(t){var n=new s(t,this._c());return this._u?(n._j=this._t,this._t._r=n):this._u=n,this._t=n},e.prepend=function(t){var n=new s(t,this._c());return this._u?(n._r=this._u,this._u._j=n,this._u=n):(this._u=n,this._t=n),n},e.insert=function(t,n){var e=this._s(n);if(!e)return this.append(t);var i=new s(t,this._c());return i._j=e._j,(i._r=e)._j&&(e._j._r=i),e._j=i,e==this._u&&(this._u=i),i},e.remove=function(t){var n=this._s(t);return!!n&&(n._r&&(n._r._j=n._j),n._j&&(n._j._r=n._r),this._u==n&&(this._u=n._r),this._t==n&&(this._t=n._j),!(n._n=0))},e.empty=function(){return!this._u},e.has=function(t){return!!this._s(t)},e.hasAny=function(){return!!this._u},e._v=function(){for(var t=this._m,n=this._u;n&&!(0!=n._n&&t>=n._n&&(n._g.call(this,arguments),this._p&&!this._p.call(this,arguments)));)n=n._r},e._h=function(){for(var t=this._m,n=this._u;n&&!(0!=n._n&&t>=n._n&&(n._g.apply(this,arguments),this._p&&!this._p.apply(this,arguments)));)n=n._r},e._q=function(t){for(var n=this._m,e=this._u;e&&!(0!=e._n&&n>=e._n&&(e._g.call(this,t),this._p&&!this._p.call(this,t)));)e=e._r},e._l=function(t){for(var n=this._m,e=this._u;e&&!(0!=e._n&&n>=e._n&&(e._g.apply(this,t),this._p&&!this._p.apply(this,t)));)e=e._r},e.forEach=function(t){for(var n=this._u,e=this._m;n;)0!=n._n&&e>=n._n&&t(n._g),n=n._r},e.forEachIf=function(t){for(var n=this._u,e=this._m;n;){if(0!=n._n&&e>=n._n&&!t(n._g))return!1;n=n._r}return!0},e._s=function(t){for(var n=this._u;n;){if(n===t||n._g===t)return n;n=n._r}return null},e._c=function(){var t=++this._m;if(0==t){for(var n=this._u;n;)n._n=1,n=n._r;t=++this._m}return t},t.CallbackList=n}(eventjs),function(i){"use strict";function e(t,n){for(var e in n)t[e]=n[e];return t}function r(t){if(this._k={},t=t||{},this._w=t,this._e="function"==typeof t.getEvent?t.getEvent:null,this._o=t.hasOwnProperty("argumentPassingMode")?t.argumentPassingMode:r.defaultArgumentPassingMode,this._i=!!t.hasOwnProperty("argumentsAsArray")&&!!t.argumentsAsArray,this._d=t.mixins,this._a=this._d&&0<this._d.length,this._a)for(var n=0;n<this._d.length;++n)e(this,this._d[n])}r.argumentPassingIncludeEvent=1,r.argumentPassingExcludeEvent=2,r.defaultArgumentPassingMode=2;var t=r.prototype;t.appendListener=function(t,n){return this._b(t,!0).append(n)},t.prependListener=function(t,n){return this._b(t,!0).prepend(n)},t.insertListener=function(t,n,e){return this._b(t,!0).insert(n,e)},t.removeListener=function(t,n){var e=this._b(t,!1);return!!e&&e.remove(n)},t.hasListener=function(t,n){var e=this._b(t,!1);return!!e&&e.has(n)},t.hasAnyListener=function(t){var n=this._b(t,!1);return!!n&&n.hasAny()},t.dispatch=function(){this.applyDispatch(arguments)},t.applyDispatch=function(t){if(this._a)for(var n=0;n<this._d.length;++n){var e=this._d[n];if(e.mixinBeforeDispatch&&!e.mixinBeforeDispatch.call(this,t))return}if(this._e){if(this._i)var i=this._e.call(this,t);else i=this._e.apply(this,t);(s=this._b(i,!1))&&(this._o===r.argumentPassingIncludeEvent&&(t=[i].concat(t)),s.applyDispatch(t))}else{var s;(s=this._b(t[0],!1))&&(this._o===r.argumentPassingExcludeEvent&&(t=Array.prototype.slice.call(t,1)),s.applyDispatch(t))}},t.forEach=function(t,n){var e=this._b(t,!1);e&&e.forEach(t,n)},t.forEachIf=function(t,n){var e=this._b(t,!1);return!e||e.forEachIf(t,n)},t._b=function(t,n){if(this._k.hasOwnProperty(t))return this._k[t];if(n){var e=new i.CallbackList(this._w);return this._k[t]=e}return null},i.EventDispatcher=r}(eventjs);