/*eventjs v0.0.1, by wqking, https://github.com/wqking/eventjs, @preserve*/
if(void 0===eventjs)var eventjs={};if(function(t){"use strict";function s(t,n){this._l=null,this._f=null,this._t=t,this._j=n}function n(t){this._a=null,this._b=null,this._g=0,t=t||{},this._r=t.hasOwnProperty("canContinueInvoking")?!!t.canContinueInvoking:null,this._q=!!t.hasOwnProperty("argumentsAsArray")&&!!t.argumentsAsArray,this._q?(this.dispatch=this._m,this.applyDispatch=this._k):(this.dispatch=this._n,this.applyDispatch=this._i)}var e=n.prototype;e.append=function(t){var n=new s(t,this._c());return this._a?(n._l=this._b,this._b._f=n):this._a=n,this._b=n},e.prepend=function(t){var n=new s(t,this._c());return this._a?(n._f=this._a,this._a._l=n,this._a=n):(this._a=n,this._b=n),n},e.insert=function(t,n){var e=this._h(n);if(!e)return this.append(t);var i=new s(t,this._c());return i._l=e._l,(i._f=e)._l&&(e._l._f=i),e._l=i,e==this._a&&(this._a=i),i},e.remove=function(t){var n=this._h(t);return!!n&&(n._f&&(n._f._l=n._l),n._l&&(n._l._f=n._f),this._a==n&&(this._a=n._f),this._b==n&&(this._b=n._l),!(n._j=0))},e.empty=function(){return!this._a},e.has=function(t){return!!this._h(t)},e.hasAny=function(){return!!this._a},e._m=function(){for(var t=this._g,n=this._a;n&&!(0!=n._j&&t>=n._j&&(n._t.call(this,arguments),this._r&&!this._r.call(this,arguments)));)n=n._f},e._n=function(){for(var t=this._g,n=this._a;n&&!(0!=n._j&&t>=n._j&&(n._t.apply(this,arguments),this._r&&!this._r.apply(this,arguments)));)n=n._f},e._k=function(t){for(var n=this._g,e=this._a;e&&!(0!=e._j&&n>=e._j&&(e._t.call(this,t),this._r&&!this._r.call(this,t)));)e=e._f},e._i=function(t){for(var n=this._g,e=this._a;e&&!(0!=e._j&&n>=e._j&&(e._t.apply(this,t),this._r&&!this._r.apply(this,t)));)e=e._f},e.forEach=function(t){for(var n=this._a,e=this._g;n;)0!=n._j&&e>=n._j&&t(n._t),n=n._f},e.forEachIf=function(t){for(var n=this._a,e=this._g;n;){if(0!=n._j&&e>=n._j&&!t(n._t))return!1;n=n._f}return!0},e._h=function(t){for(var n=this._a;n;){if(n===t||n._t===t)return n;n=n._f}return null},e._c=function(){var t=++this._g;if(0==t){for(var n=this._a;n;)n._j=1,n=n._f;t=++currentCounter}return t},t.CallbackList=n,"function"==typeof define&&define.amd?define(function(){return t}):"object"==typeof module&&module.exports&&(module.exports=t)}(eventjs),void 0===eventjs)eventjs={};!function(t){"use strict";var i=t;function e(t,n){for(var e in n)t[e]=n[e];return t}function r(t){if(this._w={},t=t||{},this._p=t,this._o="function"==typeof t.getEvent?t.getEvent:null,this._v=t.hasOwnProperty("argumentPassingMode")?t.argumentPassingMode:r._d,this._q=!!t.hasOwnProperty("argumentsAsArray")&&!!t.argumentsAsArray,this._u=t.mixins,this._s=this._u&&0<this._u.length,this._s)for(var n=0;n<this._u.length;++n)e(this,this._u[n])}"function"==typeof require&&(i=require("./callbacklist.js")),r.argumentPassingIncludeEvent=1,r.argumentPassingExcludeEvent=2,r._d=2,r.setDefaultArgumentPassingMode=function(t){r._d=t},r.getDefaultArgumentPassingMode=function(){return r._d};var n=r.prototype;n.appendListener=function(t,n){return this._e(t,!0).append(n)},n.prependListener=function(t,n){return this._e(t,!0).prepend(n)},n.insertListener=function(t,n,e){return this._e(t,!0).insert(n,e)},n.removeListener=function(t,n){var e=this._e(t,!1);return!!e&&e.remove(n)},n.hasListener=function(t,n){var e=this._e(t,!1);return!!e&&e.has(n)},n.hasAnyListener=function(t){var n=this._e(t,!1);return!!n&&n.hasAny()},n.dispatch=function(){this.applyDispatch(arguments)},n.applyDispatch=function(t){if(this._s)for(var n=0;n<this._u.length;++n){var e=this._u[n];if(e.mixinBeforeDispatch&&!e.mixinBeforeDispatch.call(this,t))return}if(this._o){if(this._q)var i=this._o.call(this,t);else i=this._o.apply(this,t);(s=this._e(i,!1))&&(this._v===r.argumentPassingIncludeEvent&&(t=[i].concat(t)),s.dispatch.apply(s,t))}else{var s;(s=this._e(t[0],!1))&&(this._v===r.argumentPassingExcludeEvent&&(t=Array.prototype.slice.call(t,1)),s.dispatch.apply(s,t))}},n._e=function(t,n){if(this._w.hasOwnProperty(t))return this._w[t];if(n){var e=new i.CallbackList(this._p);return this._w[t]=e}return null},t.EventDispatcher=r,"function"==typeof define&&define.amd?define(function(){return t}):"object"==typeof module&&module.exports&&(module.exports=t)}(eventjs);