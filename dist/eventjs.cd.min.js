/*eventjs v0.0.1, by wqking, https://github.com/wqking/eventjs, @preserve*/
if(void 0===eventjs)var eventjs={};if(function(t){"use strict";function s(t,n){this._m=null,this._a=null,this._o=t,this._r=n}function n(t){this._d=null,this._u=null,this._s=0,t=t||{},this._e=t.hasOwnProperty("canContinueInvoking")?!!t.canContinueInvoking:null,this._i=!!t.hasOwnProperty("argumentsAsArray")&&!!t.argumentsAsArray,this._i?(this.dispatch=this._h,this.applyDispatch=this._b):(this.dispatch=this._k,this.applyDispatch=this._n)}var e=n.prototype;e.append=function(t){var n=new s(t,this._p());return this._d?(n._m=this._u,this._u._a=n):this._d=n,this._u=n},e.prepend=function(t){var n=new s(t,this._p());return this._d?(n._a=this._d,this._d._m=n,this._d=n):(this._d=n,this._u=n),n},e.insert=function(t,n){var e=this._c(n);if(!e)return this.append(t);var i=new s(t,this._p());return i._m=e._m,(i._a=e)._m&&(e._m._a=i),e._m=i,e==this._d&&(this._d=i),i},e.remove=function(t){var n=this._c(t);return!!n&&(n._a&&(n._a._m=n._m),n._m&&(n._m._a=n._a),this._d==n&&(this._d=n._a),this._u==n&&(this._u=n._m),!(n._r=0))},e.empty=function(){return!this._d},e.has=function(t){return!!this._c(t)},e.hasAny=function(){return!!this._d},e._h=function(){for(var t=this._s,n=this._d;n&&!(0!=n._r&&t>=n._r&&(n._o.call(this,arguments),this._e&&!this._e.call(this,arguments)));)n=n._a},e._k=function(){for(var t=this._s,n=this._d;n&&!(0!=n._r&&t>=n._r&&(n._o.apply(this,arguments),this._e&&!this._e.apply(this,arguments)));)n=n._a},e._b=function(t){for(var n=this._s,e=this._d;e&&!(0!=e._r&&n>=e._r&&(e._o.call(this,t),this._e&&!this._e.call(this,t)));)e=e._a},e._n=function(t){for(var n=this._s,e=this._d;e&&!(0!=e._r&&n>=e._r&&(e._o.apply(this,t),this._e&&!this._e.apply(this,t)));)e=e._a},e.forEach=function(t){for(var n=this._d,e=this._s;n;)0!=n._r&&e>=n._r&&t(n._o),n=n._a},e.forEachIf=function(t){for(var n=this._d,e=this._s;n;){if(0!=n._r&&e>=n._r&&!t(n._o))return!1;n=n._a}return!0},e._c=function(t){for(var n=this._d;n;){if(n===t||n._o===t)return n;n=n._a}return null},e._p=function(){var t=++this._s;if(0==t){for(var n=this._d;n;)n._r=1,n=n._a;t=++currentCounter}return t},t.CallbackList=n,"function"==typeof define&&define.amd?define(function(){return t}):"object"==typeof module&&module.exports&&(module.exports=t)}(eventjs),void 0===eventjs)eventjs={};!function(i){"use strict";function e(t,n){for(var e in n)t[e]=n[e];return t}function r(t){if(this._v={},t=t||{},this._t=t,this._g="function"==typeof t.getEvent?t.getEvent:null,this._w=t.hasOwnProperty("argumentPassingMode")?t.argumentPassingMode:r._f,this._i=!!t.hasOwnProperty("argumentsAsArray")&&!!t.argumentsAsArray,this._l=t.mixins,this._j=this._l&&0<this._l.length,this._j)for(var n=0;n<this._l.length;++n)e(this,this._l[n])}r.argumentPassingIncludeEvent=1,r.argumentPassingExcludeEvent=2,r._f=2,r.setDefaultArgumentPassingMode=function(t){r._f=t},r.getDefaultArgumentPassingMode=function(){return r._f};var t=r.prototype;t.appendListener=function(t,n){return this._q(t,!0).append(n)},t.prependListener=function(t,n){return this._q(t,!0).prepend(n)},t.insertListener=function(t,n,e){return this._q(t,!0).insert(n,e)},t.removeListener=function(t,n){var e=this._q(t,!1);return!!e&&e.remove(n)},t.hasListener=function(t,n){var e=this._q(t,!1);return!!e&&e.has(n)},t.hasAnyListener=function(t){var n=this._q(t,!1);return!!n&&n.hasAny()},t.dispatch=function(){this.applyDispatch(arguments)},t.applyDispatch=function(t){if(this._j)for(var n=0;n<this._l.length;++n){var e=this._l[n];if(e.mixinBeforeDispatch&&!e.mixinBeforeDispatch.call(this,t))return}if(this._g){if(this._i)var i=this._g.call(this,t);else i=this._g.apply(this,t);(s=this._q(i,!1))&&(this._w===r.argumentPassingIncludeEvent&&(t=[i].concat(t)),s.dispatch.apply(s,t))}else{var s;(s=this._q(t[0],!1))&&(this._w===r.argumentPassingExcludeEvent&&(t=Array.prototype.slice.call(t,1)),s.dispatch.apply(s,t))}},t._q=function(t,n){if(this._v.hasOwnProperty(t))return this._v[t];if(n){var e=new i.CallbackList(this._t);return this._v[t]=e}return null},i.EventDispatcher=r,"function"==typeof define&&define.amd?define(function(){return i}):"object"==typeof module&&module.exports&&(module.exports=i)}(eventjs);