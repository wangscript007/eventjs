/*eventjs v0.0.1, by wqking, https://github.com/wqking/eventjs*/
if(void 0===eventjs)var eventjs={};"function"==typeof define&&define.amd?define(function(){return eventjs}):"object"==typeof module&&module.exports&&(module.exports=eventjs),function(t){"use strict";function s(t,n){this._w=null,this._b=null,this._l=t,this._p=n}function n(t){this._m=null,this._s=null,this._a=0,t=t||{},this._h=t.hasOwnProperty("canContinueInvoking")?!!t.canContinueInvoking:null,this._d=!!t.hasOwnProperty("argumentsAsArray")&&!!t.argumentsAsArray,this._d?(this.dispatch=this._r,this.applyDispatch=this._u):(this.dispatch=this._x,this.applyDispatch=this._c)}var e=n.prototype;e.append=function(t){var n=new s(t,this._e());return this._m?(n._w=this._s,this._s._b=n):this._m=n,this._s=n},e.prepend=function(t){var n=new s(t,this._e());return this._m?(n._b=this._m,this._m._w=n,this._m=n):(this._m=n,this._s=n),n},e.insert=function(t,n){var e=this._n(n);if(!e)return this.append(t);var i=new s(t,this._e());return i._w=e._w,(i._b=e)._w&&(e._w._b=i),e._w=i,e==this._m&&(this._m=i),i},e.remove=function(t){var n=this._n(t);return!!n&&(n._b&&(n._b._w=n._w),n._w&&(n._w._b=n._b),this._m==n&&(this._m=n._b),this._s==n&&(this._s=n._w),!(n._p=0))},e.empty=function(){return!this._m},e.has=function(t){return!!this._n(t)},e.hasAny=function(){return!!this._m},e._r=function(){for(var t=this._a,n=this._m;n&&!(0!=n._p&&t>=n._p&&(n._l.call(this,arguments),this._h&&!this._h.call(this,arguments)));)n=n._b},e._x=function(){for(var t=this._a,n=this._m;n&&!(0!=n._p&&t>=n._p&&(n._l.apply(this,arguments),this._h&&!this._h.apply(this,arguments)));)n=n._b},e._u=function(t){for(var n=this._a,e=this._m;e&&!(0!=e._p&&n>=e._p&&(e._l.call(this,t),this._h&&!this._h.call(this,t)));)e=e._b},e._c=function(t){for(var n=this._a,e=this._m;e&&!(0!=e._p&&n>=e._p&&(e._l.apply(this,t),this._h&&!this._h.apply(this,t)));)e=e._b},e.forEach=function(t){for(var n=this._m,e=this._a;n;)0!=n._p&&e>=n._p&&t(n._l),n=n._b},e.forEachIf=function(t){for(var n=this._m,e=this._a;n;){if(0!=n._p&&e>=n._p&&!t(n._l))return!1;n=n._b}return!0},e._n=function(t){for(var n=this._m;n;){if(n===t||n._l===t)return n;n=n._b}return null},e._e=function(){var t=++this._a;if(0==t){for(var n=this._m;n;)n._p=1,n=n._b;t=++this._a}return t},t.CallbackList=n}(eventjs),function(i){"use strict";function e(t,n){for(var e in n)t[e]=n[e];return t}function r(t){if(this._t={},t=t||{},this._v=t,this._g="function"==typeof t.getEvent?t.getEvent:null,this._j=t.hasOwnProperty("argumentPassingMode")?t.argumentPassingMode:r._f,this._d=!!t.hasOwnProperty("argumentsAsArray")&&!!t.argumentsAsArray,this._k=t.mixins,this._i=this._k&&0<this._k.length,this._i)for(var n=0;n<this._k.length;++n)e(this,this._k[n])}r.argumentPassingIncludeEvent=1,r.argumentPassingExcludeEvent=2,r._f=2,r.setDefaultArgumentPassingMode=function(t){r._f=t},r.getDefaultArgumentPassingMode=function(){return r._f};var t=r.prototype;t.appendListener=function(t,n){return this._o(t,!0).append(n)},t.prependListener=function(t,n){return this._o(t,!0).prepend(n)},t.insertListener=function(t,n,e){return this._o(t,!0).insert(n,e)},t.removeListener=function(t,n){var e=this._o(t,!1);return!!e&&e.remove(n)},t.hasListener=function(t,n){var e=this._o(t,!1);return!!e&&e.has(n)},t.hasAnyListener=function(t){var n=this._o(t,!1);return!!n&&n.hasAny()},t.dispatch=function(){this.applyDispatch(arguments)},t.applyDispatch=function(t){if(this._i)for(var n=0;n<this._k.length;++n){var e=this._k[n];if(e.mixinBeforeDispatch&&!e.mixinBeforeDispatch.call(this,t))return}if(this._g){if(this._d)var i=this._g.call(this,t);else i=this._g.apply(this,t);(s=this._o(i,!1))&&(this._j===r.argumentPassingIncludeEvent&&(t=[i].concat(t)),s.dispatch.apply(s,t))}else{var s;(s=this._o(t[0],!1))&&(this._j===r.argumentPassingExcludeEvent&&(t=Array.prototype.slice.call(t,1)),s.dispatch.apply(s,t))}},t._o=function(t,n){if(this._t.hasOwnProperty(t))return this._t[t];if(n){var e=new i.CallbackList(this._v);return this._t[t]=e}return null},i.EventDispatcher=r}(eventjs);