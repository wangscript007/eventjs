/*eventjs v0.0.1, by wqking, https://github.com/wqking/eventjs, @preserve*/
if(void 0===eventjs)var eventjs={};if(function(t){"use strict";function r(t,e){this._h=null,this._j=null,this._k=t,this._c=e}function e(){this._g=null,this._i=null,this._b=0}var n=e.prototype;n.append=function(t){var e=new r(t,this._f());return this._g?(e._h=this._i,this._i._j=e):this._g=e,this._i=e},n.prepend=function(t){var e=new r(t,this._f());return this._g?(e._j=this._g,this._g._h=e,this._g=e):(this._g=e,this._i=e),e},n.insert=function(t,e){var n=this._d(e);if(!n)return this.append(t);var i=new r(t,this._f());return i._h=n._h,(i._j=n)._h&&(n._h._j=i),n._h=i,n==this._g&&(this._g=i),i},n.remove=function(t){var e=this._d(t);return!!e&&(e._j&&(e._j._h=e._h),e._h&&(e._h._j=e._j),this._g==e&&(this._g=e._j),this._i==e&&(this._i=e._h),!(e._c=0))},n.dispatch=function(){for(var t=this._b,e=this._g;e;)0!=e._c&&t>=e._c&&e._k.apply(this,arguments),e=e._j},n.forEach=function(t){for(var e=this._g,n=this._b;e;)0!=e._c&&n>=e._c&&t(e._k),e=e._j},n.forEachIf=function(t){for(var e=this._g,n=this._b;e;){if(0!=e._c&&n>=e._c&&!t(e._k))return!1;e=e._j}return!0},n._d=function(t){if(t instanceof r)return t;for(var e=this._g;e;){if(e._k===t)return e;e=e._j}return null},n._f=function(){var t=++this._b;if(0==t){for(var e=this._g;e;)e._c=1,e=e._j;t=++currentCounter}return t},t.CallbackList=e,"function"==typeof define&&define.amd?define(function(){return t}):"object"==typeof module&&module.exports&&(module.exports=t)}(eventjs),void 0===eventjs)eventjs={};!function(t){"use strict";var i=t;function e(t){this._e={},t=t||{},this._l="function"==typeof t.getEvent?t.getEvent:null}"function"==typeof require&&(i=require("./callbacklist.js"));var n=e.prototype;n.appendListener=function(t,e){return this._a(t,!0).append(e)},n.prependListener=function(t,e){return this._a(t,!0).prepend(e)},n.insertListener=function(t,e,n){return this._a(t,!0).insert(e,n)},n.removeListener=function(t,e){var n=this._a(t,!1);return!!n&&n.remove(e)},n.dispatch=function(){var t;if(this._l){if(t=this._a(this._l.apply(this,arguments),!1)){var e=Array.prototype.slice.call(arguments,0);t.dispatch.apply(t,e)}}else if(t=this._a(arguments[0],!1)){e=Array.prototype.slice.call(arguments,1);t.dispatch.apply(t,e)}},n._a=function(t,e){if(this._e.hasOwnProperty(t))return this._e[t];if(e){var n=new i.CallbackList;return this._e[t]=n}return null},t.EventDispatcher=e,"function"==typeof define&&define.amd?define(function(){return t}):"object"==typeof module&&module.exports&&(module.exports=t)}(eventjs);