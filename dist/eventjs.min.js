if(void 0===eventjs)var eventjs={};if(function(t){"use strict";function r(t,e){this._previous=null,this._next=null,this._callback=t,this._counter=e}function e(){this._head=null,this._tail=null,this._currentCounter=0}e.prototype.append=function(t){var e=new r(t,this._getNextCounter());return this._head?(e._previous=this._tail,this._tail._next=e):this._head=e,this._tail=e},e.prototype.prepend=function(t){var e=new r(t,this._getNextCounter());return this._head?(e._next=this._head,this._head._previous=e,this._head=e):(this._head=e,this._tail=e),e},e.prototype.insert=function(t,e){var n=this._doFindNode(e);if(!n)return this.append(t);var i=new r(t,this._getNextCounter());return i._previous=n._previous,(i._next=n)._previous&&(n._previous._next=i),n._previous=i,n==this._head&&(this._head=i),i},e.prototype.remove=function(t){var e=this._doFindNode(t);return!!e&&(e._next&&(e._next._previous=e._previous),e._previous&&(e._previous._next=e._next),this._head==e&&(this._head=e._next),this._tail==e&&(this._tail=e._previous),!(e._counter=0))},e.prototype.dispatch=function(){for(var t=this._currentCounter,e=this._head;e;)0!=e._counter&&t>=e._counter&&e._callback.apply(this,arguments),e=e._next},e.prototype.forEach=function(t){for(var e=this._head;e;)0!=e._counter&&counter>=e._counter&&t(e._callback),e=e._next},e.prototype.forEachIf=function(t){for(var e=this._head;e&&(!(0!=e._counter&&counter>=e._counter)||t(e._callback));)e=e._next},e.prototype._doFindNode=function(t){if(t instanceof r)return t;for(var e=this._head;e;){if(e._callback===t)return e;e=e._next}return null},e.prototype._getNextCounter=function(){var t=++this._currentCounter;if(0==t){for(var e=this._head;e;)e._counter=1,e=e._next;t=++currentCounter}return t},t.CallbackList=e,"function"==typeof define&&define.amd?define(function(){return t}):"object"==typeof module&&module.exports&&(module.exports=t)}(eventjs),void 0===eventjs)eventjs={};!function(t){"use strict";var i=t;function e(){this._eventCallbackListMap={}}"function"==typeof require&&(i=require("./callbacklist.js")),e.prototype.appendListener=function(t,e){return this._doGetCallbackList(t,!0).append(e)},e.prototype.prependListener=function(t,e){return this._doGetCallbackList(t,!0).prepend(e)},e.prototype.insertListener=function(t,e,n){return this._doGetCallbackList(t,!0).insert(e,n)},e.prototype.removeListener=function(t,e){var n=this._doGetCallbackList(t,!1);return!!n&&n.remove(e)},e.prototype.dispatch=function(t){this._doGetCallbackList(t,!1)},e.prototype._doGetCallbackList=function(t,e){if(this._eventCallbackListMap.hasOwnProperty(t))return this._eventCallbackListMap[t];if(e){var n=new i.CallbackList;return this._eventCallbackListMap[t]=n}return null},t.EventDispatcher=e,"function"==typeof define&&define.amd?define(function(){return t}):"object"==typeof module&&module.exports&&(module.exports=t)}(eventjs);