/*eventjs v0.0.1, by wqking, https://github.com/wqking/eventjs, @preserve*/
if(void 0===eventjs)var eventjs={};if(function(t){"use strict";function s(t,e){this._t=null,this._g=null,this._e=t,this._f=e}function e(t){this._h=null,this._b=null,this._j=0,t=t||{},this._l=t.hasOwnProperty("canContinueInvoking")?!!t.canContinueInvoking:null,this._i=!!t.hasOwnProperty("argumentsAsArray")&&!!t.argumentsAsArray,this._i?(this.dispatch=this._w,this.applyDispatch=this._c):(this.dispatch=this._r,this.applyDispatch=this._o)}var n=e.prototype;n.append=function(t){var e=new s(t,this._u());return this._h?(e._t=this._b,this._b._g=e):this._h=e,this._b=e},n.prepend=function(t){var e=new s(t,this._u());return this._h?(e._g=this._h,this._h._t=e,this._h=e):(this._h=e,this._b=e),e},n.insert=function(t,e){var n=this._q(e);if(!n)return this.append(t);var i=new s(t,this._u());return i._t=n._t,(i._g=n)._t&&(n._t._g=i),n._t=i,n==this._h&&(this._h=i),i},n.remove=function(t){var e=this._q(t);return!!e&&(e._g&&(e._g._t=e._t),e._t&&(e._t._g=e._g),this._h==e&&(this._h=e._g),this._b==e&&(this._b=e._t),!(e._f=0))},n.empty=function(){return!this._h},n.has=function(t){return!!this._q(t)},n.hasAny=function(){return!!this._h},n._w=function(){for(var t=this._j,e=this._h;e&&!(0!=e._f&&t>=e._f&&(e._e.call(this,arguments),this._l&&!this._l.call(this,arguments)));)e=e._g},n._r=function(){for(var t=this._j,e=this._h;e&&!(0!=e._f&&t>=e._f&&(e._e.apply(this,arguments),this._l&&!this._l.apply(this,arguments)));)e=e._g},n._c=function(t){for(var e=this._j,n=this._h;n&&!(0!=n._f&&e>=n._f&&(n._e.call(this,t),this._l&&!this._l.call(this,t)));)n=n._g},n._o=function(t){for(var e=this._j,n=this._h;n&&!(0!=n._f&&e>=n._f&&(n._e.apply(this,t),this._l&&!this._l.apply(this,t)));)n=n._g},n.forEach=function(t){for(var e=this._h,n=this._j;e;)0!=e._f&&n>=e._f&&t(e._e),e=e._g},n.forEachIf=function(t){for(var e=this._h,n=this._j;e;){if(0!=e._f&&n>=e._f&&!t(e._e))return!1;e=e._g}return!0},n._q=function(t){for(var e=this._h;e;){if(e===t||e._e===t)return e;e=e._g}return null},n._u=function(){var t=++this._j;if(0==t){for(var e=this._h;e;)e._f=1,e=e._g;t=++currentCounter}return t},t.CallbackList=e,"function"==typeof define&&define.amd?define(function(){return t}):"object"==typeof module&&module.exports&&(module.exports=t)}(eventjs),void 0===eventjs)eventjs={};if(function(t){"use strict";var i=t;function n(t,e){for(var n in e)t[n]=e[n];return t}function r(t){if(this._a={},t=t||{},this._p=t,this._k="function"==typeof t.getEvent?t.getEvent:null,this._n=t.hasOwnProperty("argumentPassingMode")?t.argumentPassingMode:r._s,this._i=!!t.hasOwnProperty("argumentsAsArray")&&!!t.argumentsAsArray,this._v=t.mixins,this._x=this._v&&0<this._v.length,this._x)for(var e=0;e<this._v.length;++e)n(this,this._v[e])}"function"==typeof require&&(i=require("./callbacklist.js")),r.argumentPassingIncludeEvent=1,r.argumentPassingExcludeEvent=2,r._s=2,r.setDefaultArgumentPassingMode=function(t){r._s=t},r.getDefaultArgumentPassingMode=function(){return r._s};var e=r.prototype;e.appendListener=function(t,e){return this._m(t,!0).append(e)},e.prependListener=function(t,e){return this._m(t,!0).prepend(e)},e.insertListener=function(t,e,n){return this._m(t,!0).insert(e,n)},e.removeListener=function(t,e){var n=this._m(t,!1);return!!n&&n.remove(e)},e.hasListener=function(t,e){var n=this._m(t,!1);return!!n&&n.has(e)},e.hasAnyListener=function(t){var e=this._m(t,!1);return!!e&&e.hasAny()},e.dispatch=function(){this.applyDispatch(arguments)},e.applyDispatch=function(t){if(this._x)for(var e=0;e<this._v.length;++e){var n=this._v[e];if(n.mixinBeforeDispatch&&!n.mixinBeforeDispatch.call(this,t))return}if(this._k){if(this._i)var i=this._k.call(this,t);else i=this._k.apply(this,t);(s=this._m(i,!1))&&(this._n===r.argumentPassingIncludeEvent&&(t=[i].concat(t)),s.dispatch.apply(s,t))}else{var s;(s=this._m(t[0],!1))&&(this._n===r.argumentPassingExcludeEvent&&(t=Array.prototype.slice.call(t,1)),s.dispatch.apply(s,t))}},e._m=function(t,e){if(this._a.hasOwnProperty(t))return this._a[t];if(e){var n=new i.CallbackList(this._p);return this._a[t]=n}return null},t.EventDispatcher=r,"function"==typeof define&&define.amd?define(function(){return t}):"object"==typeof module&&module.exports&&(module.exports=t)}(eventjs),void 0===eventjs)eventjs={};!function(t){"use strict";var e=t;function n(t){this._d=new e.CallbackList(t)}"function"==typeof require&&(e=require("../callbacklist.js"));var i=n.prototype;i.appendFilter=function(t){this._d.append(t)},i.removeFilter=function(t){this._d.remove(t)},i.mixinBeforeDispatch=function(e){return!(!this._d.empty()&&!this._d.forEachIf(function(t){return t.call(t,e)}))},t.MixinFilter=n,"function"==typeof define&&define.amd?define(function(){return t}):"object"==typeof module&&module.exports&&(module.exports=t)}(eventjs);